<div id="gameOverScreen" class="menuModalContent gameOverScreen" aria-hidden="true" role="dialog" aria-label="Game over">
  <h1>Game Over!</h1>
  <p id="stats"></p>
  <div class="gameOverActions" role="group" aria-label="Game over actions">
    <button class="mainMenuBtn mainMenuBtn--play" id="tryAgainBtn" type="button">Play Again</button>
    <button class="mainMenuBtn mainMenuBtn--about" id="goMainMenuBtn" type="button">Main Menu</button>
  </div>
</div>

<div id="pauseScreen" class="pauseScreen menuModalContent" aria-hidden="true" role="dialog" aria-label="Paused">
  <div class="pauseView pauseView--main" aria-label="Pause actions">
    <h1>Paused</h1>
    <p>Take a breather.</p>
    <div class="pauseToggles" role="group" aria-label="Pause toggles">
      <button id="pauseSoundBtn" class="miniBtn miniBtn--pause" type="button" aria-pressed="true">SOUND ON</button>
    </div>
    <div class="pauseActions" role="group" aria-label="Pause actions">
      <button class="mainMenuBtn mainMenuBtn--play" id="resumeBtn" type="button">Resume</button>
      <button class="mainMenuBtn mainMenuBtn--about" id="leaveGameBtn" type="button">Leave Game</button>
    </div>
  </div>

  <div class="pauseView pauseView--confirm" aria-label="Leave confirmation">
    <h1>Leave Game?</h1>
    <p>Are you sure? You will lose current progress.</p>
    <div class="confirmRow" role="group" aria-label="Leave confirmation">
      <button id="confirmLeaveYesBtn" class="miniBtn" type="button">Yes</button>
      <button id="confirmLeaveNoBtn" class="miniBtn miniBtn--pause" type="button">No</button>
    </div>
  </div>
</div>

<!-- Level Select Modal -->
<div id="levelSelectModal" class="modal modal--view hidden" aria-label="Level select" aria-hidden="true">
  <div class="modalContent menuModalContent mainMenuPanelBg modalContent--split">
    <div class="modalHeader">
      <h2>Select Level</h2>
      <p id="levelSelectHint" style="margin-top:-6px; opacity:0.85;">Choose a starting level you have unlocked.</p>
    </div>
    <div class="modalBody">
      <div id="levelSelectGrid" class="levelSelectGrid" role="group" aria-label="Level buttons"></div>
    </div>
    <div class="modalFooter">
      <button class="closeBtn" id="closeLevelSelectBtn" type="button">Back</button>
    </div>
  </div>
</div>

<!-- Settings Modal -->
<div id="settingsModal" class="modal modal--view hidden" aria-label="Settings" aria-hidden="true">
  <div class="modalContent menuModalContent modalContent--split">
    <div class="modalHeader">
      <h2>Settings</h2>
    </div>
    <div class="modalBody">
      <div class="settingsRow settingsRow--field">
        <label class="settingsLabel" for="playerNameInput">Player name</label>
        <input id="playerNameInput" class="settingsInput" type="text" maxlength="16" placeholder="Pilot" autocomplete="nickname" inputmode="text" enterkeyhint="done" />
      </div>
      <div class="settingsRow settingsRow--buttons">
        <button id="musicBtn" class="miniBtn" type="button" aria-pressed="true">MUSIC ON</button>
        <button id="settingsAimBtn" class="miniBtn miniBtn--pause settingsDesktopOnly" type="button" aria-pressed="false">AIM: Z/X</button>
      </div>

      <div class="settingsSection settingsDesktopOnly" aria-label="Desktop controls">
        <div class="settingsSectionTitle">Controls (Desktop)</div>
        <ul class="settingsList">
          <li>Move: <kbd>W</kbd><kbd>A</kbd><kbd>S</kbd><kbd>D</kbd> or <kbd>←</kbd><kbd>↑</kbd><kbd>↓</kbd><kbd>→</kbd></li>
          <li>Aim: <kbd>Z</kbd>/<kbd>X</kbd> (or enable Mouse Aim)</li>
          <li>Fire: automatic</li>
          <li>Laser: <kbd>SPACE</kbd></li>
          <li>Nuke: <kbd>SHIFT</kbd></li>
          <li>Refuel (crystal): <kbd>E</kbd> — stay inside the crystal’s <strong>energy field</strong> to recharge</li>
          <li>Pause: <kbd>P</kbd> / <kbd>ESC</kbd></li>
        </ul>
      </div>

      <div class="settingsSection settingsTouchOnly" aria-label="Touch controls">
        <div class="settingsSectionTitle">Controls (Mobile/Tablet)</div>
        <ul class="settingsList">
          <li>Move: use the <strong>left joystick</strong></li>
          <li>Aim: use the <strong>right joystick</strong></li>
          <li>Fire: automatic (you shoot while aiming)</li>
          <li>Laser / Nuke: tap the on-screen <strong>LASER</strong> / <strong>NUKE</strong> buttons</li>
          <li>Pause: tap <strong>PAUSE</strong> (top-right)</li>
          <li>Refuel: <strong>touch the crystal asteroid</strong> and hold still until it connects</li>
          <li>While refueling: stay inside the crystal’s <strong>energy field</strong> to keep charging</li>
        </ul>
        <p class="settingsNote">Tip: If recharging aborts, stop moving for a moment and stay in contact with the crystal.</p>
      </div>
    </div>
    <div class="modalFooter">
      <button class="miniBtn miniBtn--pause" id="closeSettingsBtn" type="button">Close</button>
    </div>
  </div>
</div>

<!-- About Modal -->
<div id="aboutModal" class="modal modal--view hidden" aria-label="About" aria-hidden="true">
  <div class="modalContent menuModalContent modalContent--split">
    <div class="modalHeader">
      <h2>About</h2>
    </div>
    <div class="modalBody">
      <p style="margin-top:6px; opacity:0.9; line-height:1.35;">
        Cyber Yolks is a neon arcade survival game about drifting in a command capsule, harvesting dangerous crystal energy, and fighting jelly-core entities that only become vulnerable when they start to glow.
      </p>
      <p style="margin-top:10px; opacity:0.9; line-height:1.35;">
        Survive the chaos, upgrade your systems with recovered fragments, and dive into unstable rifts for short bursts of extreme power — if the capsule holds.
      </p>

      <p style="margin-top:10px; opacity:0.9; line-height:1.35;">
        You woke up alone in the capsule — a cockpit wrapped around a failing reactor core and a half-dead nav stack. No ship around you. No rescue ping. Just a slow spin through an empty grid of debris and light.
      </p>
      <p style="margin-top:10px; opacity:0.9; line-height:1.35;">
        The first cannon wasn’t built in a hangar. It was welded together from salvage plates, cooling coils, and a lens ripped out of a survey drone. You bolted it to the capsule’s frame, routed power straight from the crystal collector, and prayed it wouldn’t crack the hull.
      </p>
      <p style="margin-top:10px; opacity:0.9; line-height:1.35;">
        Now the swarm is constant: yolk-like creatures drifting in packs, drawn to the glow of your collector and the heat of your thrusters. They don’t “hunt” like animals — they converge like a signal. You shoot, you harvest, you patch the capsule, and you survive.
      </p>

      <details style="margin-top:10px;">
        <summary style="cursor:pointer; opacity:0.92; font-weight:900; letter-spacing:0.06em; text-transform:uppercase;">Lore Excerpt</summary>
        <p style="margin-top:10px; opacity:0.9; line-height:1.35;">
          “Then the signal showed up. Should’ve ignored it. Didn’t. Ran a scan. Ship tried to answer it back.”
        </p>
        <p style="margin-top:10px; opacity:0.9; line-height:1.35;">
          “The collector lit the cockpit like a second sun. That’s when the first yolks appeared — not from behind an asteroid, not from a gate… just there. Like the void had been waiting for me to turn the lights on.”
        </p>
        <p style="margin-top:10px; opacity:0.9; line-height:1.35;">
          “I built the cannon in zero-g with one hand in a suit glove and the other holding the capsule together. Every shot is a trade: heat for time, noise for distance, light for attention.”
        </p>
      </details>
    </div>
    <div class="modalFooter">
      <button class="miniBtn miniBtn--pause" id="closeAboutBtn" type="button">Close</button>
    </div>
  </div>
</div>

<!-- Shop Modal -->
<div id="shopModal" class="modal modal--view hidden" aria-hidden="true">
  <div class="modalContent menuModalContent modalContent--split">
    <div class="modalHeader">
      <h2>Shop</h2>
      <p style="margin-top:-6px; opacity:0.9;">Color Cash: <span id="shopCash">0</span></p>
    </div>

    <div class="modalBody">
      <div class="shopSection">
        <div class="shopSectionTitle">Ultimates</div>
        <div class="ultSelect" role="group" aria-label="Ultimate purchases">
          <button id="ultLaserBtn" class="miniBtn" type="button">BUY LASER (500 CC)</button>
          <button id="ultNukeBtn" class="miniBtn" type="button">BUY NUKE (1500 CC)</button>
        </div>
        <div class="shopHint">Laser cooldown: <strong>30s</strong>. Nuke cooldown: <strong>60s</strong>. Laser uses <strong>Space</strong>. Nuke uses <strong>Shift</strong>.</div>
      </div>

      <div id="trophyGrid" class="trophyGrid"></div>
    </div>
    <div class="modalFooter">
      <button class="miniBtn miniBtn--pause" id="closeShopBtn" type="button">Close</button>
    </div>
  </div>
</div>

<!-- Leaderboard Modal -->
<div id="boardModal" class="modal modal--view hidden" aria-hidden="true">
  <div class="modalContent menuModalContent modalContent--split">
    <div class="modalHeader">
      <h2>Leaderboard</h2>
      <p class="boardHint">Best runs by survival time.</p>
    </div>
    <div class="modalBody">
      <ol id="scoreList" class="scoreList"></ol>
    </div>
    <div class="modalFooter">
      <button class="miniBtn miniBtn--pause" id="closeBoardBtn" type="button">Close</button>
    </div>
  </div>
</div>
